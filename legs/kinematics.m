clc; clear all; close all;

syms t1 t2 t3 a2 a3
T_01 = [cos(t1)  -sin(t1) 0 0;...
        sin(t1) cos(t1) 0 0;...
        0  0 1 0;...
        0  0 0 1];
T_12 = [cos(t2) -sin(t2) 0 0;...
        0 0 -1 0;...
        sin(t2) cos(t2) 0 0;
        0 0 0 1];
T_23 = [cos(t3)  -sin(t3) 0 a2;...
        sin(t3) cos(t3) 0 0;...
        0  0 1 0;...
        0  0 0 1];
T_3f = [1  0 0 a3;0 1 0 0;0 0 1 0;0 0 0 1];

T_02 = simplify(T_01*T_12);
T_03 = simplify(T_01*T_12*T_23);
T_0f = simplify(T_01*T_12*T_23*T_3f);

P = T_0f(1:3,4);